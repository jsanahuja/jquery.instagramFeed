/*
 jquery.instagramFeed

 @version 1.1.3

 @author Javier Sanahuja Liebana <bannss1@gmail.com>
 @contributor csanahuja <csanahuja@gmail.com>
 
 https://github.com/jsanahuja/jquery.instagramFeed

*/
(function(k){var p={host:"https://www.instagram.com/",username:"",container:"",display_profile:!0,display_biography:!0,display_gallery:!0,display_igtv:!1,get_raw_json:!1,callback:null,styling:!0,items:8,items_per_row:4,margin:.5,image_size:640};k.instagramFeed=function(b){b=k.fn.extend({},p,b);""==b.username?console.error("Instagram Feed: Error, no username found."):b.get_raw_json||""!=b.container?b.get_raw_json&&null==b.callback?console.error("Instagram Feed: Error, no callback defined to get the raw json"):k.get(b.host+b.username,function(a){a=a.split("window._sharedData = ");a=a[1].split("\x3c/script>");a=a[0];a=a.substr(0,a.length-1);a=JSON.parse(a);a=a.entry_data.ProfilePage[0].graphql.user;if(b.get_raw_json)b.callback(JSON.stringify({id:a.id,username:a.username,full_name:a.full_name,is_private:a.is_private,is_verified:a.is_verified,biography:a.biography,followed_by:a.edge_followed_by.count,following:a.edge_follow.count,images:a.edge_owner_to_timeline_media.edges,igtv:a.edge_felix_video_timeline.edges}));else{var d="",f="",g="",e="",l="";b.styling&&(d=" style='text-align:center;'",f=" style='border-radius:10em;width:15%;max-width:125px;min-width:50px;'",g=" style='font-size:1.2em;'",e=" style='font-size:1em;'",l=" style='margin:"+b.margin+"% "+b.margin+"%;width:"+(100-2*b.margin*b.items_per_row)/b.items_per_row+"%;float:left;'");var c="";b.display_profile&&(c=c+("<div class='instagram_profile'"+d+">")+("\t<img class='instagram_profile_image' src='"+a.profile_pic_url+"' alt='"+b.username+" profile pic'"+f+" />"),c+="\t<p class='instagram_username'"+g+">@"+a.full_name+" (<a href='https://www.instagram.com/"+b.username+"'>@"+b.username+"</a>)</p>");b.display_biography&&(c+="\t<p class='instagram_biography'"+e+">"+a.biography+"</p>");b.display_profile&&(c+="</div>");e=4;if(640!==b.image_size)switch(b.image_size){case 150:e=0;break;case 240:e=1;break;case 320:e=2;break;case 480:e=3;break;default:console.warn("Wrong image size. Getting default value. Accepted values are [150, 240, 320, 480, 640]")}if(b.display_gallery)if(a.is_private)c+="<p class='instagram_private'><strong>This profile is private</strong></p>";else{var h=a.edge_owner_to_timeline_media.edges;g=h.length>b.items?b.items:h.length;c+="<div class='instagram_gallery'>";for(d=0;d<g;d++){f="https://www.instagram.com/p/"+h[d].node.shortcode;var n=h[d].node.thumbnail_resources[e].src;switch(h[d].node.__typename){case "GraphSidecar":var m="sidecar";break;case "GraphVideo":m="video";n=h[d].node.thumbnail_src;break;default:m="image"}c+="<a href='"+f+"' class='instagram-"+m+"' rel='noopener' target='_blank'>";c+="   <img src='"+n+"' alt='"+b.username+" instagram image "+d+"'"+l+" />";c+="</a>"}c+="</div>"}if(b.display_igtv)if(a.is_private)c+="<p class='instagram_private'><strong>This profile is private</strong></p>";else{a=a.edge_felix_video_timeline.edges;g=a.length>b.items?b.items:a.length;c+="<div class='instagram_igtv'>";for(d=0;d<g;d++)f="https://www.instagram.com/p/"+a[d].node.shortcode,c+="<a href='"+f+"' rel='noopener' target='_blank'>",c+="\t<img src='"+a[d].node.thumbnail_src+"' alt='"+b.username+" instagram image "+d+"'"+l+" />",c+="</a>";c+="</div>"}k(b.container).html(c)}}):console.error("Instagram Feed: Error, no container found.")}})(jQuery);